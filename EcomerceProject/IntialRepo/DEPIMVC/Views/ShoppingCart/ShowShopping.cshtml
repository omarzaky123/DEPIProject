@model List<CartItem>
<section class="cart-section">
    <div class="cart-header">
        <h1>Your Shopping Cart</h1>
        <p>Review your items before checkout</p>
    </div>

    <!-- If cart has items -->
    <div class="cart-container">
        <div class="cart-table-container">
            <table class="cart-table">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Price</th>
                        <th>Size</th>
                        <th>Quantity</th>
                        <th>Subtotal</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (CartItem cartItem in Model)
                    {
                        if (cartItem.ProductVartion.Quantity_In_Stock != 0)
                        {
                            <tr>
                                <td>
                                    <div class="product-shop-cart-info">
                                        <div class="product-shop-cart-image">
                                            <img src="/@cartItem.ProductVartion.Product.Image" alt="Premium T-Shirt" />
                                        </div>
                                        <div class="product-shop-cart-details">
                                            <h3>@(cartItem?.ProductVartion?.Product?.Name ?? "Na")</h3>
                                            <p>@(cartItem?.ProductVartion?.VartionValue ?? "Na")</p>
                                        </div>
                                    </div>
                                </td>
                                <td class="price productprice">$@(cartItem?.ProductVartion?.Product?.Price ?? 0)</td>
                                <td>-----</td>
                                <td>
                                    <div class="quantity-controls">
                                        @(cartItem?.Quantity ?? 0)
                                    </div>
                                </td>
                                <td class="price">----</td>
                                <td>
                                    <a asp-action="Delete" asp-controller="CartItem" asp-route-id="@cartItem.Id" class="remove-btn">Remove</a>
                                </td>
                            </tr>
                        }
                        else
                        {
                            <tr>
                                <td>
                                    <div class="product-shop-cart-info">
                                        <div class="product-shop-cart-image">
                                            <img src="/@cartItem.ProductVartion.Product.Image" alt="Premium T-Shirt" />
                                        </div>
                                        <div class="product-shop-cart-details">
                                            <h3>@(cartItem?.ProductVartion?.Product?.Name ?? "Na")</h3>
                                            <p>@(cartItem?.ProductVartion?.VartionValue ?? "Na")</p>
                                        </div>
                                    </div>
                                </td>
                                <td class="price productprice">$@(cartItem?.ProductVartion?.Product?.Price ?? 0)</td>
                                <td>
                                    <div class="quantity-controls">
                                        @(cartItem?.Quantity ?? 0)
                                    </div>
                                </td>
                                <td style="color:red;">Out of Stock</td>
                                <td>
                                    <a asp-action="Delete" asp-controller="CartItem" asp-route-id="@cartItem.Id" class="remove-btn">Remove</a>
                                </td>
                            </tr>
                            <input  type="hidden" class="check-quantity-stokck" value="@(cartItem?.ProductVartion?.Quantity_In_Stock??0)"/>
                        }

                    }
                </tbody>
            </table>
        </div>

        <div class="cart-summary">
            <h2>Order Summary</h2>
            <div class="summary-row">
                <span>Subtotal</span>
                <span>---</span>
            </div>
            <div class="summary-row">
                <span>Shipping</span>
                <span>---</span>
            </div>
            <div class="summary-row">
                <span>Tax</span>
                <span>---</span>
            </div>
            <div class="summary-row">
                <span>Total</span>
                <span id="Total">$</span>
            </div>
            <button id="checkoutButton" class="checkout-btn">
                Proceed to Checkout
            </button>
        </div>
    </div>

    <div class="cart-actions">
        <a  asp-action="Index"  asp-controller="Home" class="continue-shopping">Continue Shopping</a>
    </div>

    <!-- If cart is empty (add display:none; to .cart-container and remove it from .cart-empty to show this) -->
    <div class="cart-empty" style="display: none">
        <p>Your cart is currently empty.</p>
        <a href="#" class="continue-shopping">Start Shopping</a>
    </div>
</section>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script src="~/js/Guset/mangeshopping.js"></script>

<script src="~/js/Guset/showshoppinggotoorder.js">
</script>